<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" rotate="width=device-width, initial-scale=1">

    <title>Alien.js — Tilt</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto+Mono">
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div id="root"></div>
    <script type="module">import{Interface,Stage,ticker}from"../build/alien.js";class Mouse{static init(){this.x=0,this.y=0,this.last={x:0,y:0},this.delta={x:0,y:0},this.normal={x:0,y:0},this.tilt={x:0,y:0},this.inverseNormal={x:0,y:0},this.addListeners(),this.onUpdate({clientX:window.innerWidth/2,clientY:window.innerHeight/2})}static addListeners(){window.addEventListener("mousedown",this.onUpdate),window.addEventListener("mousemove",this.onUpdate),window.addEventListener("mouseup",this.onUpdate)}}Mouse.onUpdate=({clientX:t,clientY:e})=>{Mouse.x=t,Mouse.y=e,Mouse.delta.x=Mouse.x-Mouse.last.x,Mouse.delta.y=Mouse.y-Mouse.last.y,Mouse.last.x=Mouse.x,Mouse.last.y=Mouse.y,Mouse.normal.x=Mouse.x/window.innerWidth,Mouse.normal.y=Mouse.y/window.innerHeight,Mouse.tilt.x=2*Mouse.normal.x-1,Mouse.tilt.y=1-2*Mouse.normal.y,Mouse.inverseNormal.x=Mouse.normal.x,Mouse.inverseNormal.y=1-Mouse.normal.y};class Copy extends Interface{constructor(){super(".copy"),this.animateIn=(t=0)=>{this.words.forEach((e,i)=>{e.css({y:10,opacity:0}).tween({y:0,opacity:1},4e3,"easeOutQuint",t+40*i)})},this.words=[],this.initHTML(),this.initText()}initHTML(){this.css({position:"relative",width:400,margin:"30px auto 0 auto",fontSize:16,lineHeight:24,letterSpacing:"0.02em"})}initText(){const t="A lightweight web framework inspired by Active Theory’s class structure and code style.".split(" ");t.forEach((e,i)=>{i<t.length-1&&(e+="&nbsp");const s=new Interface(null,"span");s.html(e),this.add(s),this.words.push(s)})}}class Title extends Interface{constructor(){super(".title"),this.animateIn=(t=0)=>{this.letters.forEach((e,i)=>{e.css({z:-100,opacity:0}).tween({z:100-50*i,opacity:1},4e3,"easeOutBack",t+200*i)})},this.letters=[],this.initHTML(),this.initText()}initHTML(){this.css({position:"relative",fontSize:100,lineHeight:100,letterSpacing:"-0.16em"})}initText(){const t="Alien.js".split(".");t.forEach((e,i)=>{const s=new Interface(null,"span");if(s.html(e),this.add(s),this.letters.push(s),i<t.length-1){const t=new Interface(null,"span");t.html("."),this.add(t),this.letters.push(t)}})}}class Logo extends Interface{constructor(){super(".logo"),this.animateIn=(t=0)=>{this.css({opacity:0}).tween({opacity:1},4e3,"easeInOutSine",t)},this.initHTML()}initHTML(){this.css({position:"relative",left:"50%",width:64,height:64,marginLeft:-32,z:-50}),this.bg("assets/images/alienkitty.svg")}}class UI extends Interface{constructor(){super(".ui"),this.onUpdate=()=>{this.mouse.x+=(Mouse.tilt.x-this.mouse.x)*this.lerpSpeed,this.mouse.y+=(Mouse.tilt.y-this.mouse.y)*this.lerpSpeed,this.rotate.css({rotationX:20*this.mouse.y,rotationY:15*this.mouse.x})},this.animateIn=()=>{this.visible(),this.title.animateIn(),this.copy.animateIn(2500),this.logo.animateIn(3e3),this.rotate.tween({z:0},7e3,"easeOutCubic")},this.mouse={x:Mouse.tilt.x,y:Mouse.tilt.y},this.lerpSpeed=.04,this.initHTML(),this.initViews(),this.addListeners()}initHTML(){this.invisible(),this.css({left:0,top:0,width:"100%",height:"100%",transformStyle:"preserve-3d",perspective:2e3,pointerEvents:"none"}),this.rotate=new Interface(".rotate"),this.rotate.css({left:"50%",top:"50%",width:900,height:300,marginLeft:-450,marginTop:-150,textAlign:"center",transformStyle:"preserve-3d",z:-300}),this.add(this.rotate)}initViews(){this.logo=new Logo,this.rotate.add(this.logo),this.title=new Title,this.rotate.add(this.title),this.copy=new Copy,this.rotate.add(this.copy)}addListeners(){ticker.add(this.onUpdate)}}class App{static async init(){Mouse.init(),this.initViews(),this.addListeners()}static initViews(){this.ui=new UI,Stage.add(this.ui)}static addListeners(){window.addEventListener("load",this.onLoad)}}App.onLoad=()=>{App.ui.animateIn()},App.init();</script>
</body>
</html>
